"use strict";(self["webpackChunkfrontend"]=self["webpackChunkfrontend"]||[]).push([[401,918],{7932:function(e,t,a){a.d(t,{Z:function(){return d}});var s=a(3396),r=a(7139);const o=["for"],n=["type","placeholder","value","pattern"];function l(e,t,a,l,i,u){return(0,s.wg)(),(0,s.iD)("label",{for:a.classInput},[(0,s._)("p",null,(0,r.zw)(a.labelTitle),1),(0,s._)("input",{class:(0,r.C_)(a.classInput),type:a.type,placeholder:a.placeHolder,value:a.valueForm,pattern:a.patternTxt},null,10,n)],8,o)}var i={name:"inputForm",props:{classInput:{type:String,default:"inputForm"},labelTitle:{type:String},type:{type:String},placeHolder:{type:String},valueForm:{type:String},patternTxt:{type:String}}},u=a(89);const c=(0,u.Z)(i,[["render",l],["__scopeId","data-v-271ff964"]]);var d=c},9918:function(e,t,a){a.r(t),a.d(t,{default:function(){return u}});a(7658);var s=a(3396);const r={class:"container"};function o(e,t,a,o,n,l){return(0,s.wg)(),(0,s.iD)("div",r,[n.showEmpty?((0,s.wg)(),(0,s.iD)("p",{key:0,class:"empty",onClick:t[0]||(t[0]=t=>e.$router.push({name:"reservas"}))}," Não há reservas cadastradas, para fazer sua reserva clique aqui. ")):(0,s.kq)("",!0)])}var n={name:"ContentMyReservation",data(){return{showEmpty:!0,objectDataUser:JSON.parse(localStorage.getItem(`reservaUserData:${this.$store.state.loggedUser.email}`)),objectPaymentUser:JSON.parse(localStorage.getItem(`reservaPaymentData:${this.$store.state.loggedUser.email}`))}},computed:{verifyData(){if(this.objectDataUser&&this.objectPaymentUser)return!1}}},l=a(89);const i=(0,l.Z)(n,[["render",o],["__scopeId","data-v-4f52dfab"]]);var u=i},4401:function(e,t,a){a.r(t),a.d(t,{default:function(){return J}});var s=a(3396);function r(e,t,a,r,o,n){const l=(0,s.up)("MenuProfile");return(0,s.wg)(),(0,s.iD)("section",null,[(0,s.Wm)(l,{emailUser:o.email,nameUser:o.nome,descContent:"Você pode gerenciar seus dados cadastrais, suas reservas e consumos a partir do nosso dashboard."},null,8,["emailUser","nameUser"])])}a(7658);var o=a(7139);const n=e=>((0,s.dD)("data-v-8f58240c"),e=e(),(0,s.Cn)(),e),l={class:"container-profile"},i={class:"container-column"},u={class:"modal"},c={key:0,class:"container-text"},d={class:"text-modal"},m=n((()=>(0,s._)("div",{class:"hr"},null,-1)));function p(e,t,a,r,n,p){const h=(0,s.up)("ContentDataUserVue"),v=(0,s.up)("ContentDataUserVueEdit"),g=(0,s.up)("ContentMyReservationVue");return(0,s.wg)(),(0,s.iD)("div",l,[(0,s._)("div",i,[(0,s._)("nav",null,[(0,s._)("ul",null,[(0,s._)("li",null,[(0,s._)("button",{onClick:t[0]||(t[0]=e=>p.pageData()),class:(0,o.C_)({selected:n.selectedData})}," Dados Cadastrais ",2)]),(0,s._)("li",null,[(0,s._)("button",{onClick:t[1]||(t[1]=e=>p.pageReservation()),class:(0,o.C_)({selected:n.showMyReservation})}," Minhas Reservas ",2)]),(0,s._)("li",null,[(0,s._)("button",{onClick:t[2]||(t[2]=e=>p.logout()),class:"logout"},"Sair")])])]),(0,s._)("div",u,[n.showIntro?((0,s.wg)(),(0,s.iD)("div",c,[(0,s._)("h2",null,"Olá "+(0,o.zw)(a.nameUser),1),(0,s._)("p",d,(0,o.zw)(a.descContent),1),m])):(0,s.kq)("",!0),n.showDataUser?((0,s.wg)(),(0,s.j4)(h,{key:1,emailUser:a.emailUser,nameUser:a.nameUser,onChangeEdit:t[3]||(t[3]=()=>{n.showDataUser=!1,n.showDataUserEdit=!0})},null,8,["emailUser","nameUser"])):(0,s.kq)("",!0),n.showDataUserEdit?((0,s.wg)(),(0,s.j4)(v,{key:2,emailUser:a.emailUser,nameUser:a.nameUser,onBackPage:t[4]||(t[4]=()=>{n.showDataUserEdit=!1,n.showDataUser=!0})},null,8,["emailUser","nameUser"])):(0,s.kq)("",!0),n.showMyReservation?((0,s.wg)(),(0,s.j4)(g,{key:3})):(0,s.kq)("",!0)])])])}const h=e=>((0,s.dD)("data-v-c1f1e112"),e=e(),(0,s.Cn)(),e),v={class:"container"},g={class:"container-column"},U={class:"column-left"},f=h((()=>(0,s._)("p",null,"Nome:",-1))),_=h((()=>(0,s._)("br",null,null,-1))),w={class:"column-mid"},y=h((()=>(0,s._)("p",null,"Email:",-1))),D=h((()=>(0,s._)("br",null,null,-1))),$=h((()=>(0,s._)("div",{class:"column-right"},[(0,s._)("p",null,"Senha:"),(0,s._)("br"),(0,s._)("p",null,"**********")],-1)));function S(e,t,a,r,n,l){return(0,s.wg)(),(0,s.iD)("div",v,[(0,s._)("div",g,[(0,s._)("div",U,[f,_,(0,s._)("p",null,(0,o.zw)(a.nameUser),1)]),(0,s._)("div",w,[y,D,(0,s._)("p",null,(0,o.zw)(a.emailUser),1)]),$]),(0,s._)("button",{onClick:t[0]||(t[0]=t=>e.$emit("changeEdit"))},"Editar dados cadastrais")])}var C={name:"ContentDataUser",props:{nameUser:{type:String},emailUser:{type:String}},emits:["changeEdit"]},b=a(89);const k=(0,b.Z)(C,[["render",S],["__scopeId","data-v-c1f1e112"]]);var E=k;const I={class:"container"},M={class:"container-column"},R={class:"column-left"},V={class:"column-mid"},q={class:"column-right"},P={class:"container-button"};function F(e,t,a,r,o,n){const l=(0,s.up)("InputForm");return(0,s.wg)(),(0,s.iD)("div",I,[(0,s._)("div",M,[(0,s._)("div",R,[(0,s.Wm)(l,{classInput:"nameUser",labelTitle:"Nome:",type:"text",valueForm:a.nameUser},null,8,["valueForm"])]),(0,s._)("div",V,[(0,s.Wm)(l,{classInput:"emailUser",labelTitle:"Email:",type:"email",valueForm:a.emailUser},null,8,["valueForm"])]),(0,s._)("div",q,[(0,s.Wm)(l,{classInput:"passBefore",labelTitle:"Senha Atual:",type:"password"}),(0,s.Wm)(l,{classInput:"passAfter",labelTitle:"Nova Senha:",type:"password"})])]),(0,s._)("div",P,[(0,s._)("button",{onClick:t[0]||(t[0]=e=>n.changeData())},"Salvar Alterações"),(0,s._)("button",{onClick:t[1]||(t[1]=t=>e.$emit("backPage"))},"Voltar")])])}var N=a(7932),T={name:"ContentDataUserEdit",components:{InputForm:N.Z},props:{nameUser:{type:String},emailUser:{type:String}},emits:["backPage"],methods:{changeData(){const e=document.querySelector(".nameUser"),t=document.querySelector(".emailUser"),a=document.querySelector(".passBefore"),s=document.querySelector(".passAfter");JSON.parse(localStorage.getItem("usersList"));if(this.$store.dispatch("changeNameUser",e.value),this.$store.dispatch("changeEmailUser",t.value),alert("Nome de usuario e Email alterados com sucesso."),a.value&&s.value)this.$store.state.loggedUser&&1==this.$store.state.login&&this.$store.state.users.forEach((e=>{if(e.email==this.$store.state.loggedUser.email){if(e.password!=a.value)return void alert("Senha atual incorreta.");this.$store.dispatch("changePassword",s.value),this.$store.dispatch("initializeStore"),alert("Senha alterada com sucesso.")}}));else{if(a.value&&!s.value)return void alert("Campo nova senha invalido.");if(!a.value&&s.value)return void alert("Campo de senha atual invalido.")}console.log(this.$store.state.users,this.$store.state.loggedUser)}}};const Z=(0,b.Z)(T,[["render",F],["__scopeId","data-v-58f30c33"]]);var j=Z,z=a(9918),x={name:"MenuProfile",components:{ContentDataUserVue:E,ContentDataUserVueEdit:j,ContentMyReservationVue:z["default"]},props:{nameUser:{type:String},emailUser:{type:String},descContent:{type:String}},data(){return{showIntro:!0,showDataUser:!0,showDataUserEdit:!1,showMyReservation:!1,selectedData:!0}},methods:{pageData(){this.selectedData=!0,this.showDataUser=!0,this.showDataUserEdit=!1,this.showMyReservation=!1,this.$router.push(`/perfil/${this.emailUser}`)},pageReservation(){this.selectedData=!1,this.showDataUser=!1,this.showDataUserEdit=!1,this.showMyReservation=!0,this.$router.push(`/perfil/${this.emailUser}/minhas-reservas`)},logout(){this.$store.dispatch("logout"),this.$router.push("/")}},created(){1==this.$store.state.login&&this.$store.state.loggedUser&&this.$route.path==`/perfil/${this.emailUser}/minhas-reservas`&&(this.selectedData=!1,this.showDataUser=!1,this.showDataUserEdit=!1,this.showMyReservation=!0,this.$router.push(`/perfil/${this.emailUser}/minhas-reservas`))}};const W=(0,b.Z)(x,[["render",p],["__scopeId","data-v-8f58240c"]]);var A=W,O={name:"MyProfileView",components:{MenuProfile:A},data(){return{email:this.$store.state.loggedUser.email,nome:this.$store.state.loggedUser.name}},created(){if(1==this.$store.state.login){if(null==this.$store.state.loggedUser)return alert("Você precisa estar logado para acessar o seu perfil."),void this.$router.push("/");if(this.$route.params.email!=this.$store.state.loggedUser.email)return alert(`Você não está logado com ${this.$route.params.email}, tente novamente.`),void this.$router.push("/");this.$router.push(`/perfil/${this.$store.state.loggedUser.email}`)}else alert("Você precisa estar logado para acessar seu perfil."),this.$router.push("/")}};const B=(0,b.Z)(O,[["render",r],["__scopeId","data-v-fc400012"]]);var J=B}}]);
//# sourceMappingURL=401.67bd5199.js.map